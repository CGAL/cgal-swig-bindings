cmake_minimum_required(VERSION 2.8)

SET (PACKAGENAME "Kernel")
SET (MODULENAME "CGAL_${PACKAGENAME}")
SET (INTERFACE_FILES  "${MODULENAME}.i")
SET (OBJECT_FILES "Point_3.cpp" "Plane_3.cpp" "Segment_3.cpp" "Line_3.cpp")
SET (JAVA_OBJECT_FILES "")
SET (PYTHON_OBJECT_FILES "")
SET (JAVAPACKAGENAME "CGAL.${PACKAGENAME}")
SET (JAVABUILDPATH "../../build-java/CGAL/${PACKAGENAME}")
   
INCLUDE_DIRECTORIES(${CMAKE_CURRENT_SOURCE_DIR})


SET_SOURCE_FILES_PROPERTIES(${INTERFACE_FILES} PROPERTIES CPLUSPLUS ON)

#Build bindings for python
if(PYTHONLIBS_FOUND)
  INCLUDE_DIRECTORIES(${PYTHON_INCLUDE_DIRS})
  SET (CMAKE_SWIG_OUTDIR ${PYTHONBUILDPATH})
  SET(CMAKE_LIBRARY_OUTPUT_DIRECTORY ${PYTHONBUILDPATH})
  SWIG_ADD_MODULE(${MODULENAME} python ${INTERFACE_FILES} ${OBJECT_FILES} ${PYTHON_OBJECT_FILES})
else()
  message("Python has not been found, ${PACKAGENAME} bindings for python will not be compiled.")
endif()

#Build bindings for java
if (JAVA_INCLUDE_PATH)
  INCLUDE_DIRECTORIES(BEFORE ${JAVA_INCLUDE_PATH} ${JAVA_INCLUDE_PATH2})
  SET (CMAKE_SWIG_OUTDIR ${JAVABUILDPATH})
  SET(CMAKE_SWIG_FLAGS -package ${JAVAPACKAGENAME})
  SET(CMAKE_LIBRARY_OUTPUT_DIRECTORY ${JAVALIBPATH})
  SWIG_ADD_MODULE(${MODULENAME} java ${INTERFACE_FILES} ${OBJECT_FILES} ${JAVA_OBJECT_FILES})
else()
  message("JNI has not be found, ${PACKAGENAME} bindings for java will not be compiled.")
endif()    
